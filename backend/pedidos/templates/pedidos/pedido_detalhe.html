{% extends "base.html" %}
{% load static %}

{% block title %} Pedido N. {{pedido.pk}} {% endblock title %}

{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

<section>
<div class="container">
<div class="row mb-5">
    <div class="col-lg">
        <h2>Detalhe do pedido</h2>

        <p class="lead">Dados do usuário</p>
        <dl class="row">
            <dt class="col-lg-2">Nome:</dt>
            <dd class="col-lg-4">{{pedido.user.nome_completo}}</dd>

            {% comment %} <dt class="col-lg-2">Idade:</dt> {% endcomment %}
            {% comment %} <dd class="col-lg-4">{{pedido.user.idade}}</dd> {% endcomment %}
            <dt class="col-lg-2">Nascimento:</dt>
            <dd class="col-lg-4">{{pedido.user.data_nascimento}}</dd>

            <dt class="col-lg-2">CPF:</dt>
            <dd class="col-lg-4">{{pedido.user.cpf}}</dd>
            <dt class="col-lg-2">E-mail:</dt>
            <dd class="col-lg-4">{{pedido.user.email}}</dd>
        </dl>

        <p class="lead">Dados de endereço</p>
        <dl class="row">
            <dt class="col-lg-2">Endereço:</dt>
            <dd class="col-lg-4">{{pedido.user.rua}}</dd>
            <dt class="col-lg-2">Número:</dt>
            <dd class="col-lg-4">{{pedido.user.numero}}</dd>

            <dt class="col-lg-2">Complemento:</dt>
            <dd class="col-lg-4">{{pedido.user.complemento}}</dd>
            <dt class="col-lg-2">Nascimento:</dt>
            <dd class="col-lg-4">{{pedido.user.data_nascimento}}</dd>

            <dt class="col-lg-2">Cidade:</dt>
            <dd class="col-lg-4">{{pedido.user.cidade}}</dd>
            <dt class="col-lg-2">Estado:</dt>
            <dd class="col-lg-4">{{pedido.user.get_estado_display}}</dd>

            <dt class="col-lg-2">CEP:</dt>
            <dd class="col-lg-4">{{pedido.user.cep}}</dd>
        </dl>
    </div>
</div>


<div class="row">
    <div class="col">
        <h3>Método de pagamento</h3>
        <p>Não implementado</p>
    </div>
</div>

<div class="row">
    <div class="col">
        <h3>Pedido N. {{pedido.id}}</h3>

        <div class="row mt-4">
            <div class="col-lg-2 font-weight-bold">Número do pedido:</div>
            <div class="col-lg-4">{{pedido.id}}</div>
            <div class="col-lg-2 font-weight-bold">Total a pagar:</div>
            <div class="col-lg-4">R$ {{pedido.total}}</div>
            <div class="col-lg-2 font-weight-bold">QTD. Itens:</div>
            <div class="col-lg-4">{{pedido.quantidade}}</div>
            <div class="col-lg-2 font-weight-bold">Status:</div>
            <div class="col-lg-4">{{pedido.get_status_display}}</div>
        </div>

        <div class="row mt-4">
            <div class="col">
                <h3>Produtos</h3>
            </div>
        </div>

        <div class="table-responsive mt-3">
            <table class="table">
                <tr style="margin: 0 auto;">
                    <th class="d-none d-lg-block">Imagem</th>
                    <th>Produto</th>
                    <th>QTD.</th>
                    <th>Unidade</th>
                    <th>Total</th>      
                </tr>

                {% for item in pedido.carrinho.itens.all %}
                <tr>                 
                    <td class="d-none d-lg-block">
                        <img class="cart-img" src="{{item.produto.imagem.url}}">
                    </td>
                    <td>{{item.produto.nome}}</td>
                    <td>{{item.quantidade}}</td>
                    <td>R$ {{item.produto.preco}}</td>
                    <td>
                        R$ {{item.total}}
                    </td>
                </tr>
                {% endfor %}

            </table>
        </div>

    </div>
</div>
{% endblock content %}
</div><!--Fim da dive container-->
</section>
